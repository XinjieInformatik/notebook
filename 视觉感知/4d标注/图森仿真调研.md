# 图森仿真调研

https://mp.weixin.qq.com/s/su20X5xC-ddT_Z-E2O9ghw

神经渲染（Neural Rendering）技术，试图全部从真实的路测数据中重建世界与车辆，并按需修改我们关心的其他车辆的行为。这样能够最大限度保障模型在实际部署与仿真测试之间的一致性。

三个模块：背景重建，动态物体重建，在线渲染与后处理


## 图森联合仿真pipeline

1. 动态目标
    a. 图像资产：一个动态目标对应一个nerf模型
    b. 点云资产：多帧点云叠加+TCO优化+SDF+marching cubes
2. 静态场景
    a. 图像重建：block nerf 式的拼接
    b. 点云重建：NeuralPual SDF
3. 动静态融合
    将动态目标的点云资产放到重建的静态场景中，通过时序pose控制新增动态目标的轨迹，制定演员剧本
    a. 图像层面：输入指定相机pose，从动态目标nerf和静态场景nerf分别得到渲染图像，将动态目标图像贴到静态场景图像上，贴图的中心位置就是点云层面pose中心反投影回图像的位置
    b. 点云层面：利用lidarsim，计算射线碰撞获得当前帧的扫描点云
4. 添加光影
    结合gps和时间计算太阳角度

